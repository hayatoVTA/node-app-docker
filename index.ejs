<!doctype html>
<html lang='ja'>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>掲示板</title>
  <link rel="stylesheet" href="./style.css" type="text/css">
  <script charset="utf-8">
    function init(){
      var id = localStorage.getItem('id');
      if (id == null){
        location.href = './login';
      }
      document.querySelector('#id').textContent = 'ID:' + id;
      document.querySelector('#id_input').value = id;
    }
  </script>
</head>

<body onload='init();'>
  <head>
    <h1>掲示板</h1>
  </head>
  <div role='main'>
    <p>メッセージは最大10個まで保管されます</p>
    <form action="/" method="post" accept-charset="utf-8">
      <p><span id='id'></span><input type="hidden" name="id" value="" id="id_input"></p>
      <p><input type='text' name='msg'><input type='submit' value='送信'></p>
    </form>
    <hr>
    <p><table style='width:85%;'>
      <% for(var i in data) {%>
        <%- include('data_item', {val:data[i]}) %>
      <% } %>
    </table></p>
  </div>
</body>
</html>
